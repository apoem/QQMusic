var len,dataList,root=window.player,controlIndex=0,audio=root.audioManager;function getData(o){$.ajax({type:"GET",url:o,success:function(o){console.log(o),len=o.length,dataList=o,root.render(o[controlIndex]),audio.getAudio(o[controlIndex].audio)},error:function(){console.log("error")}})}function bindEvent(){$(".prev").on("click",function(){0==controlIndex?controlIndex=len-1:controlIndex--,root.render(dataList[controlIndex]),audio.status="pause",$(".play").toggleClass("pause"),audio.getAudio(dataList[controlIndex].audio)}),$(".next").on("click",function(){controlIndex==len-1?controlIndex=0:controlIndex++,root.render(dataList[controlIndex]),audio.status="pause",$(".play").toggleClass("pause"),audio.getAudio(dataList[controlIndex].audio)}),$(".play").on("click",function(){"pause"==audio.status?audio.play():audio.pause(),$(".play").toggleClass("pause")})}console.log(audio),getData("../mock/data.json"),bindEvent();